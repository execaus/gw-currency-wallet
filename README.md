# gw-currency-wallet

Микросервис `gw-currency-wallet` предназначен для управления валютными кошельками с поддержкой регистрации, авторизации, операций с балансом, а также получения курсов валют и обмена валют.

## Описание проекта

`gw-currency-wallet` — это микросервис, который предоставляет HTTP API для работы с валютными кошельками. Сервис поддерживает регистрацию пользователей, авторизацию, просмотр баланса, операции депозита и вывода средств, получение курсов валют и обмен валют между кошельками.

## API Операции

### 1. Регистрация пользователя

- **Метод:** POST  
- **URL:** `/register`  
- **Описание:** Регистрирует нового пользователя.  
- **Тело запроса:**  
```json
{
  "username": "string",
  "password": "string"
}
```
- **Ответ:**  
```json
{
  "message": "User registered successfully"
}
```

### 2. Авторизация пользователя

- **Метод:** POST  
- **URL:** `/login`  
- **Описание:** Авторизует пользователя и возвращает токен доступа.  
- **Тело запроса:**  
```json
{
  "username": "string",
  "password": "string"
}
```
- **Ответ:**  
```json
{
  "token": "string"
}
```

### 3. Получение баланса пользователя

- **Метод:** GET  
- **URL:** `/balance`  
- **Описание:** Возвращает текущий баланс пользователя по валютам.  
- **Заголовки:**  
  - `Authorization: Bearer <token>`  
- **Ответ:**  
```json
{
  "balances": {
    "USD": "number",
    "EUR": "number",
    ...
  }
}
```

### 4. Депозит средств

- **Метод:** POST  
- **URL:** `/deposit`  
- **Описание:** Пополняет баланс пользователя в указанной валюте.  
- **Заголовки:**  
  - `Authorization: Bearer <token>`  
- **Тело запроса:**  
```json
{
  "currency": "string",
  "amount": "number"
}
```
- **Ответ:**  
```json
{
  "message": "Deposit successful",
  "new_balance": "number"
}
```

### 5. Вывод средств

- **Метод:** POST  
- **URL:** `/withdraw`  
- **Описание:** Снимает средства с баланса пользователя в указанной валюте.  
- **Заголовки:**  
  - `Authorization: Bearer <token>`  
- **Тело запроса:**  
```json
{
  "currency": "string",
  "amount": "number"
}
```
- **Ответ:**  
```json
{
  "message": "Withdrawal successful",
  "new_balance": "number"
}
```

### 6. Получение курсов валют

- **Метод:** GET  
- **URL:** `/exchange-rates`  
- **Описание:** Возвращает актуальные курсы валют.  
- **Ответ:**  
```json
{
  "rates": {
    "USD": "number",
    "EUR": "number",
    ...
  }
}
```

### 7. Обмен валют

- **Метод:** POST  
- **URL:** `/exchange`  
- **Описание:** Обменивает указанную сумму из одной валюты в другую.  
- **Заголовки:**  
  - `Authorization: Bearer <token>`  
- **Тело запроса:**  
```json
{
  "from_currency": "string",
  "to_currency": "string",
  "amount": "number"
}
```
- **Ответ:**  
```json
{
  "message": "Exchange successful",
  "from_new_balance": "number",
  "to_new_balance": "number"
}
```

---

## Инструкция по запуску

### Сборка

```bash
go build -o gw ./cmd/main.go
```

### Запуск

1. Настройте файл конфигурации `config.yaml` или задайте переменные окружения (см. ниже).
2. Запустите сервис:

```bash
./gw -c ./config.env
```

---

Данный микросервис обеспечивает полный набор функций для управления валютными кошельками, включая регистрацию, авторизацию, операции с балансом, а также получение курсов валют и обмен валют, что позволяет интегрировать его в системы управления финансами.
